var Modal=function(){"use strict";var e,t,n={},o={},i=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div"),a=document.createElement("div"),s={width:"auto",height:"auto",lock:!1,hideClose:!1,draggable:!1,closeAfter:0,openCallback:!1,closeCallback:!1,hideOverlay:!1};return n.open=function(r){o.width=r.width||s.width,o.height=r.height||s.height,o.lock=r.lock||s.lock,o.hideClose=r.hideClose||s.hideClose,o.draggable=r.draggable||s.draggable,o.closeAfter=r.closeAfter||s.closeAfter,o.closeCallback=r.closeCallback||s.closeCallback,o.openCallback=r.openCallback||s.openCallback,o.hideOverlay=r.hideOverlay||s.hideOverlay,e=function(){n.center({})},!r.content||r.ajaxContent||r.iframeContent?!r.ajaxContent||r.content||r.iframeContent?!r.iframeContent||r.content||r.ajaxContent?c.innerHTML="":(d.className="modal-loading",c.appendChild(r.iframeContent),r.iframeContent.addEventListener("load",function(){d.className=""})):(d.className="modal-loading",n.ajax(r.ajaxContent,function(e){c.innerHTML=e})):c.innerHTML=r.content,d.style.width=o.width,d.style.height=o.height,n.center({}),(o.lock||o.hideClose)&&(a.style.visibility="hidden"),o.hideOverlay||(i.style.visibility="visible"),d.style.visibility="visible",r.iframeContent&&(i.style.zIndex=2998,d.style.zIndex=2998,c.style.zIndex=2999,d.style.padding="0px",d.style.margin="0px",c.style.padding="0px",c.style.margin="0px",l.style.padding="10px 10px 0 10px",o.width=r.iframeContent.style.width,o.height=parseInt(r.iframeContent.style.height,10)+30+"px"),document.onkeypress=function(e){27===e.keyCode&&o.lock!==!0&&n.close()},a.onclick=function(){return o.hideClose?!1:void n.close()},i.onclick=function(){return o.lock?!1:void n.close()},window.addEventListener?window.addEventListener("resize",e,!1):window.attachEvent&&window.attachEvent("onresize",e),o.draggable?(l.style.cursor="move",l.onmousedown=function(e){return n.drag(e),!1}):l.onmousedown=function(){return!1},o.closeAfter>0&&(t=window.setTimeout(function(){n.close()},1e3*o.closeAfter)),o.openCallback&&o.openCallback()},n.drag=function(e){var t=void 0!==window.event?window.event.clientX:e.clientX,n=void 0!==window.event?window.event.clientY:e.clientY,o=t-d.offsetLeft,i=n-d.offsetTop;document.onmousemove=function(e){t=void 0!==window.event?window.event.clientX:e.clientX,n=void 0!==window.event?window.event.clientY:e.clientY,d.style.left=t-o>0?t-o+"px":0,d.style.top=n-i>0?n-i+"px":0,document.onmouseup=function(){window.document.onmousemove=null}}},n.ajax=function(e,t){var n,o=!1,i=[function(){return new window.XMLHttpRequest},function(){return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new window.ActiveXObject("Msxml2.XMLHTTP")}];for(n=0;n<i.length;n+=1){try{o=i[n]()}catch(l){}if(o!==!1)break}o.open("GET",e,!0),o.onreadystatechange=function(){4===o.readyState&&(200===o.status?(t(o.responseText),d.removeAttribute("class")):(t(o.responseText),d.removeAttribute("class")))},o.send(null)},n.close=function(){c.innerHTML="",i.setAttribute("style",""),i.style.cssText="",i.style.visibility="hidden",d.setAttribute("style",""),d.style.cssText="",d.style.visibility="hidden",l.style.cursor="default",a.setAttribute("style",""),a.style.cssText="",t&&window.clearTimeout(t),o.closeCallback&&o.closeCallback(),window.removeEventListener?window.removeEventListener("resize",e,!1):window.detachEvent&&window.detachEvent("onresize",e)},n.center=function(e){var t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),n=Math.max(d.clientWidth,d.offsetWidth),o=Math.max(d.clientHeight,d.offsetHeight),l=0,c=0,a=0,s=0;"number"==typeof window.innerWidth?(l=window.innerWidth,c=window.innerHeight):document.documentElement&&document.documentElement.clientWidth&&(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight),"number"==typeof window.pageYOffset?(s=window.pageYOffset,a=window.pageXOffset):document.body&&document.body.scrollLeft?(s=document.body.scrollTop,a=document.body.scrollLeft):document.documentElement&&document.documentElement.scrollLeft&&(s=document.documentElement.scrollTop,a=document.documentElement.scrollLeft),e.horizontalOnly||(d.style.top=s+c/2-o/2+"px"),d.style.left=a+l/2-n/2+"px",i.style.height=t+"px",i.style.width="100%"},i.setAttribute("id","modal-overlay"),d.setAttribute("id","modal-container"),l.setAttribute("id","modal-header"),c.setAttribute("id","modal-content"),a.setAttribute("id","modal-close"),l.appendChild(a),d.appendChild(l),d.appendChild(c),i.style.visibility="hidden",d.style.visibility="hidden",window.addEventListener?window.addEventListener("load",function(){document.body.appendChild(i),document.body.appendChild(d)},!1):window.attachEvent&&window.attachEvent("onload",function(){document.body.appendChild(i),document.body.appendChild(d)}),n}();
//# sourceMappingURL=jsmodal-1.0d.min.js.map